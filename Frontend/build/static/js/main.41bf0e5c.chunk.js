(this.webpackJsonpavishkar=this.webpackJsonpavishkar||[]).push([[0],{38:function(e,t,s){},40:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(16),r=s.n(n),i=s(6),o=s(2),l=s(11),d=s(4),j=s.n(d),b=s(8),u=s(7),h=s(0),p={bg:{background:"url('https://c32-cdn.guidingtech.com/optim/assets/189900/winter_cocoa_cup-2880x1800_4d470f76dc99e18ad75087b1b8410ea9.jpg?1573742130')",height:"100vh",backgroundSize:"cover",overflow:"hidden"},tab:{backgroundColor:"rgba(255,255,255,0.8)",padding:"0.5rem",marginRight:"2rem"},logo:{position:"absolute",fontSize:"5rem",color:"white",paddingTop:"30vh",paddingLeft:"20vw",fontFamily:"Brush Script MT, Brush Script Std, cursive"},nav:{display:"block",padding:"0",color:"#0d6efd",textDecoration:"none",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out"}},m=function(){Object(c.useEffect)((function(){}),[]);var e=Object(c.useRef)(""),t=Object(c.useRef)(""),s=Object(c.useRef)(""),a=Object(c.useRef)(""),n=Object(c.useRef)(""),r=Object(c.useRef)(""),d=Object(c.useRef)(""),m=Object(c.useRef)(""),x=Object(c.useRef)(""),O=Object(c.useRef)(""),f=Object(c.useRef)(""),g=Object(o.h)(),v=function(){var s=Object(b.a)(j.a.mark((function s(c){var a,n,r;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c.preventDefault(),a={email:e.current.value,password:t.current.value},s.next=4,fetch("/login",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return n=s.sent,s.next=7,n.json();case 7:(r=s.sent).result?(window.localStorage.setItem("id",r.user._id),window.localStorage.setItem("user",JSON.stringify(r.user)),window.localStorage.setItem("photo",r.user.image),g("/user")):u.b.error("".concat(r.message),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0});case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={email:a.current.value,password:s.current.value,fname:n.current.value,lname:r.current.value,height:m.current.value,weight:d.current.value,age:x.current.value},e.next=4,fetch("/register",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 4:return i=e.sent,e.next=7,i.json();case 7:o=e.sent,console.log(o),o.result?(window.localStorage.setItem("id",o.user._id),window.localStorage.setItem("user",JSON.stringify(o.user)),window.localStorage.setItem("photo",o.user.image),g("/user")):u.b.error("".concat(o.message),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"form",style:p.bg,children:[Object(h.jsx)(u.a,{}),Object(h.jsxs)("div",{class:"btn-group",style:{padding:"0.5rem 0 0 0.5rem"},role:"group","aria-label":"Basic example",children:[Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(e){O.current.style.display="inline-block",f.current.style.display="none",e.target.classList.add("disabled"),document.querySelector(".btn-warning").classList.remove("disabled")},children:"Sign up"}),Object(h.jsx)("button",{className:"btn btn-warning disabled",onClick:function(e){O.current.style.display="none",f.current.style.display="inline-block",e.target.classList.add("disabled"),document.querySelector(".btn-secondary").classList.remove("disabled")},children:"Log In"})]}),Object(h.jsx)("div",{style:p.logo,children:Object(h.jsx)("em",{children:"Get Started"})}),Object(h.jsxs)("div",{className:"tab-content d-flex justify-content-end",children:[Object(h.jsx)("div",{class:"card",ref:O,style:Object(l.a)({width:"18rem",display:"none"},p.tab),children:Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("h5",{class:"card-title",children:"Sign Up for Free"}),Object(h.jsxs)("form",{method:"post",children:[Object(h.jsxs)("div",{className:"top-row",children:[Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["First Name",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"text",required:!0,autocomplete:"off",name:"fname",ref:n})]}),Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Last Name",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"text",required:!0,autocomplete:"off",name:"lname",ref:r})]})]}),Object(h.jsxs)("div",{className:"top-row",children:[Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Weight(Kg)",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"text",required:!0,autocomplete:"off",name:"weight",ref:d})]}),Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Height(ft.)",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"text",required:!0,autocomplete:"off",name:"height",ref:m})]})]}),Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Age",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"text",required:!0,autocomplete:"off",name:"age",ref:x})]}),Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Email Address",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"email",required:!0,autocomplete:"off",name:"email",ref:a})]}),Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Set A Password",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"password",required:!0,autocomplete:"off",name:"password",ref:s})]}),Object(h.jsx)("button",{type:"submit",style:{marginTop:"0.5rem"},className:"btn btn-sm btn-secondary",onClick:y,children:"Get Started"})]})]})}),Object(h.jsx)("div",{class:"card",ref:f,style:Object(l.a)({width:"18rem"},p.tab),children:Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("h5",{class:"card-title",children:"Welcome Back!"}),Object(h.jsxs)("form",{method:"post",children:[Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Email Address",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"email",required:!0,autocomplete:"off",name:"email",ref:e})]}),Object(h.jsxs)("div",{className:"field-wrap",children:[Object(h.jsxs)("label",{children:["Password",Object(h.jsx)("span",{className:"req",children:"*"})]}),Object(h.jsx)("input",{className:"form-control",type:"password",required:!0,autocomplete:"off",name:"password",ref:t})]}),Object(h.jsx)("p",{className:"forgot",children:Object(h.jsx)(i.b,{style:p.nav,to:"/forget-pass",children:"Forgot Password?"})}),Object(h.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:v,children:"Log In"})]})]})})]})]})},x={img:{height:"100vh",width:"100vw"},Nav:{color:"rgba(255,255,255,.9)",paddingTop:"0.3125rem",paddingBottom:"0.3125rem",marginRight:"1rem",fontSize:"1.25rem",textDecoration:"none",whiteSpace:"nowrap"},heading:{position:"absolute",top:"45vh",left:"50vw",transform:"translate(-50%,-50%)",fontFamily:"Brush Script MT, Brush Script Std, cursive",fontSize:"6rem",color:"white"},para:{position:"absolute",top:"60vh",left:"50vw",fontSize:"2rem",transform:"translate(-50%,-50%)",textAlign:"center"}},O=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("nav",{class:"navbar navbar-light bg-transparent fixed-top",role:"navigation",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsx)("a",{class:"navbar-brand",href:"#",style:{color:"white"},children:"Foodie"}),Object(h.jsx)(i.b,{style:x.Nav,to:"/login",children:"Login"})]})}),Object(h.jsxs)("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel",children:[Object(h.jsxs)("div",{class:"carousel-inner",children:[Object(h.jsx)("div",{class:"carousel-item active",children:Object(h.jsx)("img",{style:x.img,src:"https://cdn.wallpapersafari.com/73/68/UOYJ2W.jpeg",class:"d-block w-100",alt:"..."})}),Object(h.jsx)("div",{class:"carousel-item",children:Object(h.jsx)("img",{style:x.img,src:"https://www.zastavki.com/pictures/1920x1080/2017Food_Petite_french_fries_on_the_table_112985_23.jpg",class:"d-block w-100",alt:"..."})}),Object(h.jsx)("div",{style:x.img,class:"carousel-item",children:Object(h.jsx)("img",{src:"https://i.pinimg.com/originals/61/34/3d/61343d78d362190265b1e56d1cdd0956.jpg",class:"d-block w-100",alt:"..."})})]}),Object(h.jsxs)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev",children:[Object(h.jsx)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),Object(h.jsx)("span",{class:"visually-hidden",children:"Previous"})]}),Object(h.jsxs)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next",children:[Object(h.jsx)("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),Object(h.jsx)("span",{class:"visually-hidden",children:"Next"})]})]}),Object(h.jsx)("h1",{style:x.heading,children:"Be Healthy."}),Object(h.jsxs)("p",{style:x.para,children:["Start a new Journey with us. ",Object(h.jsx)(i.b,{to:"/login",children:Object(h.jsx)("button",{className:"btn btn-success",children:"Register"})})]})]})},f=s(5),g=(s(31),function(){var e=Object(b.a)(j.a.mark((function e(t){var s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/getuser",{method:"GET",credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),v=g,y=s(17),N=s.n(y),w={display:"flex",justifyContent:"center",marginTop:"30vh"},k=function(){var e=Object(c.useState)(!0),t=Object(f.a)(e,2),s=t[0],a=t[1],n=Object(o.h)(),r=Object(c.useState)(""),i=Object(f.a)(r,2),l=i[0],d=i[1],u=Object(c.useState)(""),p=Object(f.a)(u,2),m=p[0],x=p[1],O=Object(c.useState)(""),g=Object(f.a)(O,2),y=g[0],k=g[1],S=Object(c.useState)(""),C=Object(f.a)(S,2),R=C[0],q=C[1],T=Object(c.useState)(""),P=Object(f.a)(T,2),B=P[0],I=P[1],E=Object(c.useState)(""),H=Object(f.a)(E,2),F=H[0],_=H[1];return Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,d(t.username),x(t.email),k(t.physique.age),q(t.physique.height),I(t.physique.weight),_(t.physique.bmi),setTimeout((function(){a(!1)}),150);case 10:case"end":return e.stop()}}),e)}))),[]),s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)("h1",{className:"h2",children:"Profile"})}),Object(h.jsx)(N.a,{css:w})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[Object(h.jsx)("h1",{className:"h2",children:"Profile"}),Object(h.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(e){return n("/user/".concat(localStorage.getItem("id"),"/update"))},children:"Update"})]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("table",{className:"table table-hover",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Username"}),Object(h.jsx)("td",{children:l})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("td",{children:m})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Age"}),Object(h.jsx)("td",{children:y})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Height"}),Object(h.jsx)("td",{children:R})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Weight"}),Object(h.jsx)("td",{children:B})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"BMI"}),Object(h.jsx)("td",{children:""===F?F:F.toFixed(2)})]})]})})})]})},S=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)("h1",{className:"h2",children:"BMI"})}),Object(h.jsxs)("div",{className:"container",children:["Your BMI: ",JSON.parse(localStorage.user).physique.bmi.toFixed(2),Object(h.jsx)("hr",{}),Object(h.jsx)("table",{className:"table table-hover",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Age"}),Object(h.jsx)("td",{children:JSON.parse(localStorage.user).physique.age})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Height"}),Object(h.jsx)("td",{children:JSON.parse(localStorage.user).physique.height})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Weight"}),Object(h.jsx)("td",{children:JSON.parse(localStorage.user).physique.weight})]})]})}),Object(h.jsxs)("div",{className:"accordion",id:"accordionExample",children:[Object(h.jsxs)("div",{className:"accordion-item",children:[Object(h.jsx)("h2",{className:"accordion-header",id:"headingOne",children:Object(h.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"How Body Mass Index is Calculated ?"})}),Object(h.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:Object(h.jsxs)("div",{className:"accordion-body",children:[Object(h.jsx)("strong",{children:"Formula:"})," weight (kg) / [height (m)]2 With the metric system, the formula for BMI is weight in kilograms divided by height in meters squared."]})})]}),Object(h.jsxs)("div",{className:"accordion-item",children:[Object(h.jsx)("h2",{className:"accordion-header",id:"headingThree",children:Object(h.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"BMI Chart"})}),Object(h.jsx)("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:Object(h.jsxs)("div",{className:"accordion-body",children:[Object(h.jsx)("img",{src:"https://www.cdc.gov/healthyweight/images/assessing/bmi-adult-fb-600x315.jpg"}),Object(h.jsx)("p",{className:"text-muted",children:"Copyright: VikiVector | Credit: Getty Images/iStockphoto"})]})})]})]})]})]})},C=function(){var e,t=Object(c.useRef)(),s=Object(c.useRef)(),a=Object(c.useRef)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)("h1",{className:"h2",children:"Foodwiki"})}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"container",id:"res",children:[Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",ref:s,className:"form-control",placeholder:"Search food","aria-label":"Search food","aria-describedby":"basic-addon1"}),Object(h.jsx)("button",{id:"search",className:"btn btn-outline-secondary",onClick:function(c){c.preventDefault(),t.current.style.display="block",a.current.innerHTML="",fetch("https://api.nal.usda.gov/fdc/v1/foods/search/?api_key=OCp7jWX2fx2sGB5aN82ZPsIQh0HbNuxIjkj14Nuf&query=".concat(s.current.value)).then((function(e){return e.json()})).then((function(s){e=s,function(){var s=document.createElement("tbody");t.current.style.display="none",e.foods.length?e.foods[0].foodNutrients.forEach((function(e){var t=document.createElement("tr"),c=document.createElement("td"),a=document.createElement("td");c.innerHTML=e.nutrientName,a.innerHTML=e.value+" "+e.unitName,t.appendChild(c),t.appendChild(a),s.appendChild(t)})):alert("No Item found"),a.current.appendChild(s)}()}))},children:"Search"})]}),Object(h.jsx)("div",{className:"text-center",ref:t,style:{display:"none"},children:Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),Object(h.jsx)("table",{ref:a,className:"table table-hover"})]})})]})},R=s(9),q=(s(38),[]),T=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(1),s=Object(c.useState)(),a=Object(f.a)(s,2),n=a[0],r=a[1],i=function(){var s=Object(b.a)(j.a.mark((function s(c){return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c.preventDefault(),fetch("https://api.nal.usda.gov/fdc/v1/foods/search/?api_key=OCp7jWX2fx2sGB5aN82ZPsIQh0HbNuxIjkj14Nuf&query=".concat(e.current.value)).then((function(e){return e.json()})).then((function(e){r(Object(l.a)(Object(l.a)({},e.foods[0]),{},{intake:t.current.value}))}));case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),o=function(){var e=Object(b.a)(j.a.mark((function e(s){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(l.a)(Object(l.a)({},n),{},{intake:t.current.value}),e.next=3,r(c);case 3:console.log(n),q=[].concat(Object(R.a)(q),[n]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{class:"input-group flex-nowrap",style:{width:"18rem"},children:[Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search food",ref:e}),Object(h.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:i,children:"Add"})]}),Object(h.jsx)("div",{className:"container",style:{height:"30vh"},children:Object(h.jsx)("div",{className:"row",children:"What do you eat in a day?"})}),Object(h.jsxs)("div",{className:"card",style:{width:"36rem"},children:[Object(h.jsx)("p",{class:"card-title",children:"Search results"}),Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)("p",{children:n?n.description:""})})]}),Object(h.jsxs)("div",{class:"input-group flex-nowrap",style:{width:"36rem"},children:[Object(h.jsx)("span",{class:"input-group-text",children:"How often do you eat?"}),Object(h.jsxs)("select",{className:"form-control",ref:t,children:[Object(h.jsx)("option",{value:1,children:"Daily"}),Object(h.jsx)("option",{value:1/7,children:"Weekly"}),Object(h.jsx)("option",{value:1/30.5,children:"Monthly"}),Object(h.jsx)("option",{value:1/365,children:"Yearly"})]}),Object(h.jsx)("button",{className:"btn btn-secondary",onClick:o,children:"Add item"}),Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(e){fetch("/nutrition/dietdata",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.result?u.b.success("".concat(e.message),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}):u.b.error("".concat(e.message),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0})})).catch((function(e){console.log(e)}))},children:"Final Submit"})]})]})},P=(s(22),function(){var e=Object(o.h)(),t=Object(c.useRef)(),s=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useRef)();Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:c=e.sent,t.current.value=c.username,s.current.value=c.physique.age,a.current.value=c.physique.height,n.current.value=c.physique.weight;case 7:case"end":return e.stop()}}),e)}))),[]);var r=function(){var c=Object(b.a)(j.a.mark((function c(r){var i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.next=3,fetch("/user/".concat(localStorage.getItem("id")),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.current.value,age:s.current.value,height:a.current.value,weight:n.current.value})});case 3:return i=c.sent,c.next=6,i.json();case 6:c.sent.result?(u.b.success("Update successfull",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}),e("/user")):u.b.error("Failed to update",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0});case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{}),Object(h.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)("h1",{className:"h2",children:"Update Profile"})}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Username"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Username",ref:t,name:"username"})]}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Age"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Age",ref:s,name:"age"})]}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Height"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Height",ref:a,name:"height"})]}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Weight"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Weight",ref:n,name:"weight"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-secondary",onClick:r,children:"Update"})]})})]})}),B=function(e){var t=Object(c.useRef)(),s=Object(c.useRef)(),a=Object(o.h)(),n=function(){var c=Object(b.a)(j.a.mark((function c(n){var r,i,o;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),(r=new FormData).append("file",t.current.files[0]),s.current.style.display="inline-block",c.next=6,fetch("/user/".concat(localStorage.getItem("id"),"/photo"),{method:"PUT",credentials:"include",body:r});case 6:return i=c.sent,c.next=9,i.json();case 9:o=c.sent,s.current.style.display="none",o.result?(localStorage.setItem("photo",o.image),console.log(e),e.setter(o.image),u.b.success("Avatar update successful",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}),a("/user")):u.b.error("".concat(o.message),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0});case 12:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(h.jsx)("h1",{className:"h2",children:"Avatar"})}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"img d-flex justify-content-around",height:"400px",width:"100%",children:localStorage.photo?Object(h.jsx)("img",{src:"data:img/gif;base64,".concat(localStorage.photo),style:{maxHeight:"400px",maxWidth:"100%",margin:"auto"}}):Object(h.jsx)("img",{src:"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg",style:{maxHeight:"400px",maxWidth:"100%",margin:"auto"}})}),Object(h.jsx)("form",{action:"/user/<%= data._id %>/photo?_method=PUT",method:"post",enctype:"multipart/form-data",className:"mt-4",children:Object(h.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(h.jsx)("div",{className:"col-12 col-lg-6",children:Object(h.jsx)("input",{ref:t,type:"file",name:"file",className:"form-control"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("button",{class:"btn btn-outline-secondary",onClick:n,children:[Object(h.jsx)("span",{ref:s,class:"spinner-border spinner-border-sm",style:{display:"none"}})," ","Change Image"]})})]})})]})]})},I=s(20),E=(s(39),[]),H=[],F={labels:E,datasets:[{label:"Nutrients intake",data:H}]},_={display:"flex",justifyContent:"center",marginTop:"30vh"},D=function(){var e=Object(c.useState)(!0),t=Object(f.a)(e,2),s=t[0],a=t[1],n=Object(o.h)();Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/nutrition/dietdata",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(e),e.length>0?(e.forEach((function(e){e.foodNutrients.forEach((function(t){E.push(t.nutrientName),H.push(t.nutrientNumber*e.intake)}))})),a(!1)):(u.b.error("No diet added",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}),n("/user/diet"))}));case 1:case"end":return e.stop()}}),e)}))),[]);var r=function(e){fetch("/nutrition/clear").then((function(e){return e.json()})).then((function(e){e.result?(n("/user"),u.b.success("Data Reset Success",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0})):u.b.error("Couldn't Reset Data, Try again later",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0})}))};return s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[Object(h.jsx)("h1",{className:"h2",children:"Reports"}),Object(h.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:r,children:"Reset"})]}),Object(h.jsx)(N.a,{css:_})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[Object(h.jsx)("h1",{className:"h2",children:"Reports"}),Object(h.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:r,children:"Reset"})]}),Object(h.jsx)(I.a,{data:F})]})},J={display:"block",padding:"0.5rem 1rem",color:"#0d6efd",textDecoration:"none",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out"},M=function(){var e=Object(c.useState)(localStorage.photo),t=Object(f.a)(e,2),s=t[0],a=t[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(h.jsx)(i.b,{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3",to:"/",children:"Foodie"}),Object(h.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#demo",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsx)("div",{className:"navbar-nav",children:Object(h.jsx)("div",{className:"nav-item text-nowrap",children:Object(h.jsx)(i.b,{className:"nav-link px-3",id:"logout",to:"/signout",children:"Sign out"})})})]}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(h.jsxs)("div",{className:"position-sticky pt-3",children:[Object(h.jsxs)("ul",{className:"nav flex-column",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{to:"/user/".concat(localStorage.getItem("id"),"/photo"),children:JSON.parse(localStorage.getItem("user")).image?Object(h.jsx)("img",{src:"data:img/gif;base64,".concat(s),height:"225px",width:"100%",class:"img-thumbnail"}):Object(h.jsx)("img",{src:"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg",height:"100px",width:"100%",className:"img-thumbnail"})})}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{className:"nav-link","aria-current":"page",to:"/user",style:J,children:[Object(h.jsx)("span",{"data-feather":"home"}),"Profile"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{className:"nav-link",to:"report",style:J,children:[Object(h.jsx)("span",{"data-feather":"file"}),"Reports"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{className:"nav-link",to:"foodwiki",style:J,children:[Object(h.jsx)("span",{"data-feather":"file"}),"Foodwiki"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{className:"nav-link",to:"bmi",style:J,children:[Object(h.jsx)("span",{"data-feather":"shopping-cart"}),"BMI"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{className:"nav-link",to:"diet",style:J,children:[Object(h.jsx)("span",{"data-feather":"users"}),"Daily Diet"]})})]}),Object(h.jsxs)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:[Object(h.jsx)("span",{children:"Navigation"}),Object(h.jsx)("a",{className:"link-secondary",href:"#","aria-label":"Add a new report",children:Object(h.jsx)("span",{"data-feather":"plus-circle"})})]}),Object(h.jsx)("ul",{className:"nav flex-column mb-2",children:Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{className:"nav-link",href:"/",children:[Object(h.jsx)("span",{"data-feather":"file-text"}),"Home"]})})})]})}),Object(h.jsxs)("main",{className:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:[Object(h.jsx)(u.a,{}),Object(h.jsxs)(o.e,{children:[Object(h.jsx)(o.c,{path:"bmi",element:Object(h.jsx)(S,{}),end:!0}),Object(h.jsx)(o.c,{path:"foodwiki",element:Object(h.jsx)(C,{}),end:!0}),Object(h.jsx)(o.c,{path:"diet",element:Object(h.jsx)(T,{}),end:!0}),Object(h.jsx)(o.c,{path:":id/update",element:Object(h.jsx)(P,{}),end:!0}),Object(h.jsx)(o.c,{path:":id/photo",element:Object(h.jsx)(B,{setter:a}),end:!0}),Object(h.jsx)(o.c,{path:"report",element:Object(h.jsx)(D,{}),end:!0}),Object(h.jsx)(o.c,{path:"*",element:Object(h.jsx)(k,{}),end:!0})]}),Object(h.jsx)("canvas",{className:"my-4 w-100",id:"myChart",width:"900",height:"380"})]})]})})]})},A=s(24),L=s.n(A),W=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h5",{children:"Validating..."}),Object(h.jsx)(L.a,{})]})},U=function(){var e=Object(c.useState)("pending"),t=Object(f.a)(e,2),s=t[0],a=t[1];return Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/isloggedin",{method:"GET",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,a(s.result);case 7:case"end":return e.stop()}}),e)}))),[]),!0===s?Object(h.jsx)(o.b,{}):"pending"===s?Object(h.jsx)(W,{}):Object(h.jsx)(o.a,{to:"/login"})},G=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),s=t[0],a=t[1];return Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/logout",{method:"GET",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.result&&(localStorage.clear(),a(!0));case 7:case"end":return e.stop()}}),e)}))),[]),s?Object(h.jsx)(o.a,{to:"/login"}):Object(h.jsx)("h1",{children:"Logging you Out..."})},z={bg:{background:"url('https://cdn.wallpapersafari.com/88/88/omdS0e.jpg')",backgroundSize:"cover",height:"100vh",width:"100vw",margin:0}},V=function(){var e=Object(c.useRef)(),t=Object(o.h)();return Object(c.useEffect)((function(){document.title="Forgot Password"})),Object(h.jsx)("div",{style:z.bg,children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{class:"row d-flex justify-content-center",children:Object(h.jsx)("div",{class:"col-10 col-md-6",children:Object(h.jsxs)("form",{action:"/forget-pass",method:"post",class:"container",style:{padding:"30px",boxShadow:"0 2px 2px",borderRadius:"5px",border:"1px solid black",marginTop:"10rem",backgroundColor:"rgb(255, 255, 255)"},children:[Object(h.jsx)("div",{class:"mb-3",children:Object(h.jsx)("input",{ref:e,type:"email",class:"form-control",placeholder:"Enter your email Id",name:"email"})}),Object(h.jsx)("button",{type:"submit",class:"btn btn-secondary",id:"sub",onClick:function(s){s.preventDefault(),""===e.current.value?alert("email address required"):fetch("/forget-pass",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.current.value})}).then((function(e){return e.json()})).then((function(e){e.result?u.b.success("Reset link has been sent successfully to your account",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}):u.b.error("Try again later",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,progress:void 0}),t("/login")}))},children:"Reset"})]})})})})})};var Y=function(){return Object(h.jsxs)(o.e,{children:[Object(h.jsx)(o.c,{path:"/",element:Object(h.jsx)(O,{}),end:!0}),Object(h.jsx)(o.c,{path:"/login",element:Object(h.jsx)(m,{}),end:!0}),Object(h.jsx)(o.c,{path:"/signout",element:Object(h.jsx)(G,{}),end:!0}),Object(h.jsx)(o.c,{path:"/forget-pass",element:Object(h.jsx)(V,{}),end:!0}),Object(h.jsx)(o.c,{path:"",element:Object(h.jsx)(U,{}),children:Object(h.jsx)(o.c,{path:"user/*",element:Object(h.jsx)(M,{}),end:!0})})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(Y,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.41bf0e5c.chunk.js.map